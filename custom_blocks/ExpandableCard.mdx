---
name: ExpandableCard
---
import { useState } from 'react';

export const ExpandableCard = ({ title, children }) => {
  const [isOpen, setIsOpen] = useState(false);

  const handleCopy = () => {
    const text = typeof children === 'string' ? children : '';
    if (text) {
      navigator.clipboard.writeText(text);
    }
  };

  return (
    <div className="flex gap-6 p-6 rounded-lg bg-[#e9e8ff3d] border border-[#3e4fe0] my-4">
      <div className="border-l-2 self-stretch border-[#3e4fe0]" />
      <div className="w-full">
        <button
          className="w-full text-left flex justify-between items-center mb-4"
          onClick={() => setIsOpen(!isOpen)}
        >
          <h3 className="text-neutral-b font-bold leading-8 !mt-0">{title}</h3>
          <svg
            className={`transform transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}
            width="20"
            height="20"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 16"
          >
            <path
              fillRule="evenodd"
              d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"
            />
          </svg>
        </button>

        {isOpen && (
          <div className="relative">
            <button
              className="absolute top-0 right-0 text-xs text-blue-500 border border-blue-500 rounded px-2 py-0.5 hover:bg-blue-500 hover:text-white transition"
              onClick={handleCopy}
            >
              Copy
            </button>
            <div className="mt-8 flex flex-col gap-6 text-neutral-b font-normal leading-6">{children}</div>
          </div>
        )}
      </div>
    </div>
  );
};
