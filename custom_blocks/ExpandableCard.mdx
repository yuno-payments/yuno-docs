---
name: ExpandableCard
---
import { useState } from 'react';

export const ExpandableCard = ({ title, children }) => {
  const [isOpen, setIsOpen] = useState(false);

  const handleCopy = () => {
    const text = typeof children === 'string' ? children : '';
    if (text) {
      navigator.clipboard.writeText(text);
    }
  };

  return (
    <details
      className="expandable-card border border-[#614ad623] rounded-[10px] transition-all duration-200 hover:shadow-md"
      open={isOpen}
      onClick={() => setIsOpen(!isOpen)}
    >
      <summary className="expandable-summary flex items-center cursor-pointer px-4 py-3 rounded-[10px]">
        <span className="expandable-title text-base text-[#2e2e48] font-medium">{title}</span>
        <div className="expandable-icon-container ml-auto flex">
          <svg className="icon icon-expand" width="20" height="20" viewBox="0 0 16 16">
            <path
              fill="rebeccapurple"
              fillRule="evenodd"
              d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"
            />
          </svg>
          <svg className="icon icon-close hidden" width="20" height="20" viewBox="0 0 16 16">
            <path
              fill="rebeccapurple"
              fillRule="evenodd"
              d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"
            />
          </svg>
        </div>
      </summary>
      <div className="expandable-content relative px-4 py-3 animate-sweep">
        <button
          className="absolute top-2 right-2 text-xs text-[#3e4fe0] border border-[#3e4fe0] rounded px-2 py-0.5 hover:bg-[#3e4fe0] hover:text-white transition"
          onClick={(e) => {
            e.stopPropagation();
            handleCopy();
          }}
        >
          Copy
        </button>
        <div className="pt-6 text-sm text-[#2e2e48] dark:text-neutral-200 leading-relaxed">
          {children}
        </div>
      </div>
    </details>
  );
};
